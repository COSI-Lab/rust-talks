version: "3.9"

services:
  web:
    volumes:
      - ${PWD}/talks.db:/app/talks.db
    ports:
      - 8005:8005
    environment:
      VIRTUAL_PORT: 8001
      VIRTUAL_HOST: talks.cosi.clarkson.edu,talks.cslabs.clarkson.edu
      #LETSENCRYPT_HOST: talks.cosi.clarkson.edu,talks.cslabs.clarkson.edu
    build:
      context: .
      args: 
        VIRTUAL_PORT: 8005

networks:
  default:
    external:
      name: nginx-proxy
